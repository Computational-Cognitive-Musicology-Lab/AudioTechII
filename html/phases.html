<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="shortcut icon" href="Home/rabbit.ico"> -->
    <link rel="stylesheet" href="../css/lecturepage.css">
    <link rel="stylesheet" href="../css/prism.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
    <title>Audio Tech II | Phase</title>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>



<body>
    <script src="../javascripts/prism.js"></script>
    <div class="full-box">
        <a id="top"></a>

        <div class="nav-bar">
            <a href="../index.html">Home</a>
            <div class="dropdown">
                <button class="dropbtn">Lectures
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                    <a href="DSP.html">DSP</a>
                    <a href="Statistics.html">Statistics</a>
                </div>
            </div>
            <a href="../coding/coding.html">Coding</a>
            <a href="../interaction/interaction.html">Interaction</a>
            <a href="../info/info.html">Information</a>
        </div>

        <div class="description">
            <h1>Phase and Polarity of a Signal</h1>
            <div class="colab-link">
                <a
                    href="https://colab.research.google.com/github/JiayingLi0803/AudioTechII_GRA/blob/main/notebooks/Lesson6_Phase.ipynb">
                    Click to run the codes in Google colab.
                </a>
            </div>
            <p>Phase is simply the position (or, more accurately, the angle) of part of a signal, and is usually
                calculated in radians. When two identical waveforms are superimposed, we would say that their signals
                are "in phase." </p>
            <pre class="language-python">
                <code class="language-python">
        import numpy as np
        from scipy.io.wavfile import read
        import matplotlib.pyplot as plt
        %matplotlib inline
        %config InlineBackend.figure_format = 'svg'
        
        x = np.linspace(0, 2 * np.pi, 1000)
        y1 = np.sin(x)
        y2 = np.sin(x)
        
        f, axarr = plt.subplots(2, sharex=True, sharey=True)
        axarr[0].plot(x, y1)
        axarr[1].plot(x, y2)
            #Two identical signals "in phase"
        
        #import import_ipynb
        #from #name-of-notebook import #function
                </code>
            </pre>
            <div class="pageimage">
                <img src="../images/less6phase1.png" alt="phase" width="95%">
            </div>
            <p>Adding these together will result in the same waveform, but just twice as loud:</p>
            <pre class="language-python">
                <code class="language-python">
        y3 = y1 + y2

        plt.plot(x, y3)
        #notice y-axis (amplitude) heights from above vs below
                </code>
            </pre>
            <div class="pageimage">
                <img src="../images/less6phase2.png" alt="phase" width="95%">
            </div>
            <p>When one of the sinusoids starts at the 180ยบ phase shift (i.e. pi radians) relative to the first this
                will lead to destructive interference and the result will be complete silence: </p>
            <pre class="language-python">
                <code class="language-python">
        x = np.linspace(0, 2 * np.pi, 1000)
        y1 = np.sin(x)
        y2 = np.sin(x + np.pi) # 2 * pi is full cycle so pi is 1/2 cycle
        
        f, axarr = plt.subplots(2, sharex=True, sharey=True)
        
        axarr[0].plot(x, y1)
        axarr[1].plot(x, y2)
            #Two signals completely "out of phase"
                </code>
            </pre>
            <div class="pageimage">
                <img src="../images/less6phase3.png" alt="phase" width="95%">
            </div>
            <pre class="language-python">
                <code class="language-python">
        y3 = y1 + y2

        plt.plot(x, y3)
        plt.ylim([-2, 2]) 
        # If we don't change y-lim, we get HUGE detail on y-axis and plot looks incorrect due to computer error
        #notice y-axis (amplitude) heights from above vs below
                </code>
            </pre>
            <div class="pageimage">
                <img src="../images/less6phase4.png" alt="phase" width="95%">
            </div>
            <p>This is called <strong>destructive interference</strong>.</p>
            <p>Now in real life this may never happen as you will not usually combine two or more waveforms that are
                exactly the same. Even the slightest difference between the interacting waveforms will avoid the perfect
                constructive or destructive interference, but <i>some</i> interference may still be noticeable. </p>
            <p>If a waveform is out of phase with another waveform of similar tonality, there will be some kind of
                cancellation. The cancellation may not be absolute but it could be noticeable. Usually this is heard as
                a loss in low frequency content.</p>
            <p>When we shift or <i>delay</i> the time element of a signal, we are manipulating its <i>phase</i>. Here,
                when we work with sinusoidal waveforms, the result is simple and easy to understand. If we were to
                manipulate a <i>real</i> musical signal by adding a time-varied version of itself, we would not
                experience the same cancellation, since the "right side" of the signal in this case will not be the
                inverse of the "left side" of the signal. However, we could *invert* the signal around the x-axis or
                amplitude domain (i.e., "flipping upside down"). If we added this version back into the original signal,
                we can have this same effect of destructive interference:</p>
            <pre class="language-python">
                <code class="language-python">
        (fs, x) = read("../audio/piano.wav")
        #normalize values to between -1 and 1:
        x = x/(np.max(np.abs(x)))
        y = -1 * x # reverse polarity of every value of x
        
        plt.plot(x[:1500])
        plt.plot(y[:1500]) #zoom in to first 1400 samples makes it clearer 
                </code>
            </pre>
            <div class="pageimage">
                <img src="../images/less6phase5.png" alt="phase" width="95%">
            </div>
            <pre class="language-python">
                <code class="language-python">
        z = x + y
        plt.plot(z[0:1500])
                </code>
            </pre>
            <div class="pageimage">
                <img src="../images/less6phase6.png" alt="phase" width="95%">
            </div>
            <p>Technically, this is not phase manipulation (or "phase flipping"), but <strong>polarity</strong>
                manipulation (or "polarity flipping").</p>


            <div class="footer">
                <a href="#top">Back to top</a>
            </div>
        </div>


</body>



</html>